<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Apple로 로그인 프론트엔드 구현 예시</title>

    <meta name="appleid-signin-client-id" content="kr.co.inhu" />
    <meta name="appleid-signin-scope" content="name" />
    <meta
      name="appleid-signin-redirect-uri"
      content="https://inhu.co.kr/auth/apple/test"
    />
    <meta name="appleid-signin-state" content="tempcsrf" />
    <meta name="appleid-signin-nonce" content="tempretry" />
    <meta name="appleid-signin-use-popup" content="true" />
  </head>
  <body>
    <h1>Apple로 로그인 기능 테스트</h1>
    <p>
      아래 버튼을 클릭하여 로그인을 진행하면, 성공 시 개발자 콘솔(F12)에 결과가
      출력됩니다.
    </p>

    <div
      id="appleid-signin"
      data-color="black"
      data-border="true"
      data-type="sign-in"
      style="width: 200px; height: 40px"
    ></div>

    <script
      type="text/javascript"
      src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"
    ></script>

    <script type="text/javascript">
      // Listen for authorization success.
      document.addEventListener('AppleIDSignInOnSuccess', (event) => {
        // Handle successful response.
        console.log(event.detail.data);
      });

      // Listen for authorization failures.
      document.addEventListener('AppleIDSignInOnFailure', (event) => {
        // Handle error.
        console.log(event.detail.error);
      });
    </script>
  </body>
</html>
