# Scripts

ì´ ë””ë ‰í† ë¦¬ëŠ” í”„ë¡œì íŠ¸ì˜ ë‹¤ì–‘í•œ í™˜ê²½ë³„ ìŠ¤í¬ë¦½íŠ¸ë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤.

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
scripts/
â”œâ”€â”€ apps/                  # ë¡œì»¬ ê°œë°œìš© ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ admin-server/      # Admin Server ë¡œì»¬ ê°œë°œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ dev/          # ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •
â”‚   â”‚   â””â”€â”€ e2e-test/     # ë¡œì»¬ E2E í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
â”‚   â””â”€â”€ user-server/       # User Server ë¡œì»¬ ê°œë°œ ìŠ¤í¬ë¦½íŠ¸
â”‚       â”œâ”€â”€ dev/          # ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •
â”‚       â””â”€â”€ e2e-test/     # ë¡œì»¬ E2E í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
â”œâ”€â”€ rdb/                   # ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ ddl.sql           # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì •ì˜
â”‚   â””â”€â”€ default-seed.sql  # ê¸°ë³¸ ì‹œë“œ ë°ì´í„°
â””â”€â”€ dev-infra/            # ê°œë°œ ì„œë²„(ë¼ì¦ˆë² ë¦¬íŒŒì´) í†µí•© ë°°í¬ìš©
    â”œâ”€â”€ docker-compose.yml # í†µí•© ì„œë¹„ìŠ¤ Docker Compose ì„¤ì •
    â””â”€â”€ init/
        â””â”€â”€ init.sql      # ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
```

## í™˜ê²½ë³„ êµ¬ì„±

### ï¿½ï¸ ë¡œì»¬ ê°œë°œ í™˜ê²½ (`apps/`)

ë¡œì»¬ì—ì„œ ê°œë³„ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ë“¤

#### ğŸ“ apps/admin-server/

- **dev/**: Admin Serverë§Œ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì„¤ì •
- **e2e-test/**: Admin Server E2E í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë…ë¦½ì ì¸ í™˜ê²½ ì„¤ì •

#### ğŸ“ apps/user-server/

- **dev/**: User Serverë§Œ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì„¤ì •
- **e2e-test/**: User Server E2E í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë…ë¦½ì ì¸ í™˜ê²½ ì„¤ì •

### ğŸ“ ê°œë°œ ì„œë²„ í™˜ê²½ (`dev-infra/`)

ë¼ì¦ˆë² ë¦¬íŒŒì´ ê°œë°œ ì„œë²„ì— Admin Serverì™€ User Serverë¥¼ í†µí•© ë°°í¬í•˜ê¸° ìœ„í•œ ì„¤ì •

- **docker-compose.yml**: Admin Server + User Server + ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í•¨ê»˜ ì‹¤í–‰í•˜ëŠ” í†µí•© êµ¬ì„±
- **init/init.sql**: ê°œë°œ ì„œë²„ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸

### ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ (`rdb/`)

ëª¨ë“  í™˜ê²½ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í¬ë¦½íŠ¸

- **ddl.sql**: í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì •ì˜
- **default-seed.sql**: ê¸°ë³¸ ë§ˆìŠ¤í„° ë°ì´í„° (ì¥ì†Œ íƒ€ì…, í‚¤ì›Œë“œ ë“±)

## ì‚¬ìš©ë²•

### ğŸ–¥ï¸ ë¡œì»¬ ê°œë°œ

ê°œë³„ ì„œë²„ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸í•  ë•Œ

```bash
# Admin Server ë¡œì»¬ ê°œë°œ í™˜ê²½
npm run admin-server:dev:infra:up
npm run admin-server:dev

# User Server ë¡œì»¬ ê°œë°œ í™˜ê²½
npm run user-server:dev:infra:up
npm run user-server:dev

# ë¡œì»¬ E2E í…ŒìŠ¤íŠ¸
npm run admin-server:test:infra:up
npm run admin-server:test:e2e
npm run admin-server:test:infra:down

npm run user-server:test:infra:up
npm run user-server:test:e2e
npm run user-server:test:infra:down
```

### ğŸ“ ê°œë°œ ì„œë²„ í†µí•© ë°°í¬

ë¼ì¦ˆë² ë¦¬íŒŒì´ì— Admin Server + User Serverë¥¼ í•¨ê»˜ ë°°í¬í•  ë•Œ

```bash
# dev-infraì˜ docker-compose.yml ì‚¬ìš©
docker-compose -f scripts/dev-infra/docker-compose.yml up -d

# ë˜ëŠ” npm ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆë‹¤ë©´
npm run dev-infra:up
```

### ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

```bash
# ì‹œë“œ ë°ì´í„° ì£¼ì…
npm run seed
```

## ì£¼ì˜ì‚¬í•­

- **ë¡œì»¬ ê°œë°œ**: `apps/` ë‚´ì˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°œë³„ ì„œë²„ ê°œë°œ ì‹œì—ë§Œ ì‚¬ìš©
- **ê°œë°œ ì„œë²„**: `dev-infra/`ëŠ” ë¼ì¦ˆë² ë¦¬íŒŒì´ì— í†µí•© ë°°í¬ìš©ìœ¼ë¡œ ì„¤ê³„ (Docker ê¸°ë°˜)
- **ìš´ì˜ í™˜ê²½**: PostgreSQL, RedisëŠ” ì„œë²„ì— ì§ì ‘ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš© (Docker ì‚¬ìš© ì•ˆ í•¨)
- **ë°ì´í„°ë² ì´ìŠ¤**: ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ ì‹ ì¤‘í•˜ê²Œ ì‹¤í–‰
